{"version":3,"sources":["components/Cast/Cast.module.css","components/Cast/Cast.js"],"names":["module","exports","Cast","movieId","useState","castList","setCastList","page","setPage","totalPages","setTotalPages","useEffect","api","then","data","cast","Math","ceil","length","className","styles","container","filter","el","index","map","actor","castItem","photo","src","profile_path","alt","name","descriptBox","roleBox","role","character","id","Pagination","count","onChange","e","value","boundaryCount","color"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,wBAAwB,SAAW,uBAAuB,SAAW,uBAAuB,MAAQ,oBAAoB,YAAc,0BAA0B,KAAO,mBAAmB,QAAU,sBAAsB,KAAO,qB,0ICyEhPC,EApEF,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACZ,EAAgCC,mBAAS,MAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAwBF,mBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAoCJ,mBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,WACNC,IAAgBT,GAASU,MAAK,SAAAC,GAC1BR,EAAYQ,EAAKC,MACjBL,EAAcM,KAAKC,KAAKH,EAAKC,KAAKG,OAAS,KAC3CV,EAAQ,QAEb,CAACL,IAMJ,OACI,mCACKE,GACG,sBAAKc,UAAWC,IAAOC,UAAvB,UACI,oBAAIF,UAAWC,IAAOf,SAAtB,SACKA,EACIiB,QAAO,SAACC,EAAIC,GAAL,OACJA,GAAgB,GAAPjB,EAAY,IAAMiB,GAAgB,GAAPjB,EAAY,KACnDkB,KAAI,SAAAC,GAAK,OACN,qBAAmBP,UAAWC,IAAOO,SAArC,UACI,qBACIR,UAAWC,IAAOQ,MAClBC,IACIH,EAAMI,aAAN,0CACyCJ,EAAMI,cACzC,8FAEVC,IAAKL,EAAMM,OAEf,sBAAKb,UAAWC,IAAOa,YAAvB,UACI,oBAAId,UAAWC,IAAOY,KAAtB,SAA6BN,EAAMM,OACnC,oBAAGb,UAAWC,IAAOc,QAArB,UACI,sBAAMf,UAAWC,IAAOe,KAAxB,wBACA,+BAAOT,EAAMU,oBAdhBV,EAAMW,SAoB1B5B,EAAa,GACV,8BACI,cAAC6B,EAAA,EAAD,CACIC,MAAO9B,EACPF,KAAMA,EACNiC,SAtCP,SAACC,EAAGC,GACrBlC,EAAQkC,IAsCgBC,cAAe,EACfC,MAAM","file":"static/js/cast-subview.ca7f13df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cast_container__3WbCg\",\"castList\":\"Cast_castList__3MfPu\",\"castItem\":\"Cast_castItem__1LGH0\",\"photo\":\"Cast_photo__3Sgnr\",\"descriptBox\":\"Cast_descriptBox__43Llu\",\"name\":\"Cast_name__qQCwL\",\"roleBox\":\"Cast_roleBox__2Pnu6\",\"role\":\"Cast_role__3Dyy8\"};","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Pagination } from '@material-ui/lab';\r\nimport * as api from '../../services/serviceApi';\r\nimport styles from './Cast.module.css';\r\n\r\nconst Cast = ({ movieId }) => {\r\n    const [castList, setCastList] = useState(null);\r\n    const [page, setPage] = useState(1);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n\r\n    useEffect(() => {\r\n        api.getCastList(movieId).then(data => {\r\n            setCastList(data.cast);\r\n            setTotalPages(Math.ceil(data.cast.length / 20));\r\n            setPage(1);\r\n        });\r\n    }, [movieId]);\r\n\r\n    const handleChange = (e, value) => {\r\n        setPage(value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {castList && (\r\n                <div className={styles.container}>\r\n                    <ul className={styles.castList}>\r\n                        {castList\r\n                            .filter((el, index) =>\r\n                                index >= page * 20 - 20 && index <= page * 20 - 1)\r\n                            .map(actor => (\r\n                                <li key={actor.id} className={styles.castItem}>\r\n                                    <img\r\n                                        className={styles.photo}\r\n                                        src={\r\n                                            actor.profile_path\r\n                                                ? `https://image.tmdb.org/t/p/w500/${actor.profile_path}`\r\n                                                : 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Noimage.svg/555px-Noimage.svg.png'\r\n                                        }\r\n                                        alt={actor.name}\r\n                                    ></img>\r\n                                    <div className={styles.descriptBox}>\r\n                                        <h2 className={styles.name}>{actor.name}</h2>\r\n                                        <p className={styles.roleBox}>\r\n                                            <span className={styles.role}>Character:</span>\r\n                                            <span>{actor.character}</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                    </ul>\r\n                    {totalPages > 1 && (\r\n                        <div>\r\n                            <Pagination\r\n                                count={totalPages}\r\n                                page={page}\r\n                                onChange={handleChange}\r\n                                boundaryCount={2}\r\n                                color=\"secondary\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nCast.propTypes = {\r\n  movieId: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Cast;"],"sourceRoot":""}